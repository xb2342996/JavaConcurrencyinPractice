# 线程安全 Thread Safety
线程安全的本质是对状态访问的管理，通常都是可变的、共享的状态。<br>
**线程安全真正要做的是在不可控的并发访问中保护数据的状态。**
- 共享：指一个变量可以被多个线程访问
- 可变：变量的值在生命周期内可变

一个对象是否是线程安全的取决于他是否会被多个线程访问，进而取决于程序如何使用对象。保证对象线程安全需要使用同步来协调对其可变状态的访问

## 什么是线程安全性
一个类是线程安全的是指在被多个线程访问的情况下，类可以持续的进行正确的行为。<br>
当多个线程访问一个类时，不考虑线程在调度环境下的调度与交替执行，也不需要进行额外的同步和协调，这个类的行为依然是正确的，这个类被称作线程安全的。


>无状态(stateless)的线程永远是安全的。比如绝大多数不记录状态的servlet

## 原子性 Atomic
###竞争条件
当计算的正确性依赖于运行时的时序或者多线程的交替时，会产生竞争条件。最常见的竞争条件是"check-then-act"，使用一个潜在的过期值作为下一步操作的依据。
